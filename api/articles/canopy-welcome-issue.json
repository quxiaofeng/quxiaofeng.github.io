{"title":"Enthought Canopy 1.3.0 Welcome Issue","slug":"canopy-welcome-issue","date":"2014-02-27T07:28:32.000Z","updated":"2018-04-21T08:18:25.482Z","comments":true,"path":"api/articles/canopy-welcome-issue.json","photos":["http://i.imgur.com/uBRhLVa.jpg"],"link":"","excerpt":"The IssueAfter a fresh install of Enthought Canopy 1.3.0.1715 win x86 version, it starts with a welcome error.","covers":["http://i.imgur.com/hRgTP0u.png","http://i.imgur.com/EgSIULO.png","http://i.imgur.com/uBRhLVa.jpg"],"content":"<h2 id=\"The-Issue\"><a href=\"#The-Issue\" class=\"headerlink\" title=\"The Issue\"></a>The Issue</h2><p>After a fresh install of Enthought Canopy 1.3.0.1715 win x86 version, it starts with a welcome error.</p>\n<a id=\"more\"></a>\n<figure><br>  <img src=\"http://i.imgur.com/hRgTP0u.png\"><br>  <figcaption><br>  The error page<br>  </figcaption><br></figure>\n\n<h2 id=\"The-Solution\"><a href=\"#The-Solution\" class=\"headerlink\" title=\"The Solution\"></a>The Solution</h2><p>A possible solution is mentioned on the enthought blog in a reply of this post.</p>\n<figure><br>  <img src=\"http://i.imgur.com/EgSIULO.png\"><br>  <figcaption><br>  The reply about the solution<br>  </figcaption><br></figure>\n\n<p>The solution is to change the code in file</p>\n<pre><code>C:\\Program Files\\Enthought\\Canopy32\\App\\appdata\\canopy-1.3.0.1715.win-x86\\Lib\\mimetypes.py\n</code></pre><p><strong>from</strong></p>\n<pre><code>254    i += 1\n255\n256    default_encoding = sys.getdefaultencoding()\n</code></pre><p><strong>to</strong></p>\n<pre><code>254    i += 1\n255\n256    if sys.getdefaultencoding()!=&apos;gbk&apos;:\n257        reload(sys)\n258        sys.setdefaultencoding(&apos;gbk&apos;)\n259\n260    default_encoding = sys.getdefaultencoding()\n</code></pre><h2 id=\"It-Works\"><a href=\"#It-Works\" class=\"headerlink\" title=\"It Works\"></a>It Works</h2><figure><br>  <img src=\"http://i.imgur.com/uBRhLVa.jpg\"><br>  <figcaption><br>  The fixed welcoming page<br>  </figcaption><br></figure>\n\n<p>I am still inexperienced to know why this solution works.</p>\n<p>However, from the code, it can be found that the windows xp doesn’t provide a proper return string ‘gbk’. In the solution, the system default encoding is set manually to ‘gbk’.</p>\n<p>The problem could be the system - windows xp, but also could be the python function, which provides the system settings.</p>\n","categories":[{"name":"coding","slug":"coding","count":26,"path":"api/categories/coding.json"}],"tags":[{"name":"python","slug":"python","count":7,"path":"api/tags/python.json"},{"name":"note","slug":"note","count":7,"path":"api/tags/note.json"},{"name":"canopy","slug":"canopy","count":1,"path":"api/tags/canopy.json"}]}